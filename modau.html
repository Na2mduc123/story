<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Danh sách chương</title>
    <style>
      :root {
        --bg: #0b1220;
        --card: rgba(255, 255, 255, 0.03);
        --accent: #ffd166;
        --text: #ffffff;
        --muted: rgba(255, 255, 255, 0.75);
        --radius: 12px;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
        min-height: 100vh;
        background: linear-gradient(
          135deg,
          #1e3c72 0%,
          #2a5298 50%,
          #0b1220 100%
        );
        color: var(--text);

        display: flex;
        justify-content: center;
        align-items: center;

        padding: 28px;
      }

      .wrap {
        max-width: 820px;
        margin: 0 auto;
        background: var(--card);
        padding: 22px;
        border-radius: var(--radius);
        box-shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
      }
      h1 {
        margin: 0 0 14px 0;
        font-size: 20px;
        letter-spacing: -0.01em;
      }
      .list {
        margin: 18px 0 0 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 12px;
      }
      .item {
        display: flex;
        align-items: flex-start;
        gap: 14px;
        padding: 14px;
        border-radius: 10px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.015),
          rgba(255, 255, 255, 0.01)
        );
      }
      .index {
        min-width: 44px;
        height: 44px;
        border-radius: 10px;
        display: grid;
        place-items: center;
        font-weight: 700;
        background: linear-gradient(90deg, var(--accent), #ff9500);
        color: #0b0b0b;
        flex-shrink: 0;
      }
      .meta {
        flex: 1;
      }
      .meta h3 {
        margin: 0;
        font-size: 16px;
      }
      .meta p {
        margin: 6px 0 0 0;
        color: var(--muted);
        font-size: 14px;
        line-height: 1.35;
      }
      .toggle-btn,
      .review-btn {
        display: block; /* biến thành block */
        margin: 20px auto 0; /* căn giữa ngang và cách trên 20px */
        background: none;
        border: 1px solid rgba(16, 198, 32, 0.06);
        background-color: #d3a667;
        color: var(--text);
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
      }

      .toggle-btn.locked {
        background: #555;
        color: #aaa;
        cursor: not-allowed;
      }
      .toggle-btn.locked a {
        pointer-events: none;
        color: #aaa;
      }
      @media (max-width: 540px) {
        .item {
          flex-direction: column;
          align-items: stretch;
        }
        .toggle-btn,
        .review-btn {
          width: 100%;
          margin-left: 0;
          margin-top: 6px;
        }
        .index {
          align-self: flex-start;
        }
      }
      button a {
        text-decoration: none;
        color: #ffffff;
      }
      h1 {
        text-align: center;
      }
      .gmail a {
        color: #ff9500;
      }
      /* Chương 1: xanh tím huyền bí */
      .item[data-ch="1"] .index {
        background: linear-gradient(135deg, #345083, #1f76d8);
      }
      .item[data-ch="1"] {
        background: linear-gradient(
          180deg,
          rgba(20, 30, 48, 0.2),
          rgba(36, 59, 85, 0.08)
        );
      }

      /* Chương 2: cam đỏ rực lửa */
      .item[data-ch="2"] .index {
        background: linear-gradient(135deg, #ff512f, #dd2476);
      }
      .item[data-ch="2"] {
        background: linear-gradient(
          180deg,
          rgba(255, 81, 47, 0.2),
          rgba(221, 36, 118, 0.08)
        );
      }

      /* Chương 3: tím hồng neon mộng mị */
      .item[data-ch="3"] .index {
        background: linear-gradient(135deg, #7f00ff, #e100ff);
      }
      .item[data-ch="3"] {
        background: linear-gradient(
          180deg,
          rgba(127, 0, 255, 0.2),
          rgba(225, 0, 255, 0.08)
        );
      }

      /* Chương 4: xanh ngọc + vàng kim (hy vọng & bền vững) */
      .item[data-ch="4"] .index {
        background: linear-gradient(135deg, #11998e, #38ef7d);
      }
      .item[data-ch="4"] {
        background: linear-gradient(
          180deg,
          rgba(17, 153, 142, 0.2),
          rgba(56, 239, 125, 0.08)
        );
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>4 CHƯƠNG CHUNG CỦA MỘT MỐI QUAN HỆ</h1>
      <ul class="list" id="chaptersList">
        <li class="item" data-ch="1">
          <div class="index">1</div>
          <div class="meta">
            <h3>Chương 1: Làm quen rồi làm bạn</h3>
            <p class="short">
              Khởi đầu của một mối tình là phải làm quen trước sau đó là bạn bè
              đã đúng không
            </p>
          </div>
          <button class="toggle-btn" aria-expanded="false">
            <a href="./chuong1.html">Xem</a>
          </button>
        </li>
        <li class="item" data-ch="2">
          <div class="index">2</div>
          <div class="meta">
            <h3>Chương 2: Thích và tỏ tình</h3>
            <p class="short">
              Khoảnh khắc này vừa ngại, vừa dâng trào, nhưng cũng sợ người ta
              không đồng ý nhưng tôi đã nói thích rồi nói yêu.
            </p>
          </div>
          <button class="toggle-btn" aria-expanded="false">
            <a href="./chuong2.html">Xem</a>
          </button>
        </li>
        <li class="item" data-ch="3">
          <div class="index">3</div>
          <div class="meta">
            <h3>Chương 3: Làm người yêu</h3>
            <p class="short">
              Giai đoạn yêu đương — hẹn hò, chăm sóc, và vượt qua những bất đồng
              đầu tiên.
            </p>
          </div>
          <button class="toggle-btn" aria-expanded="false">
            <a href="./chuong3.html">Xem</a>
          </button>
        </li>
        <li class="item" data-ch="4">
          <div class="index">4</div>
          <div class="meta">
            <h3>Chương 4: Mở ra một tương lai lâu dài</h3>
            <p class="short">
              Đây là bước cuối cùng mà bất kể mqh nào cũng hướng tới
            </p>
          </div>
          <button class="toggle-btn" aria-expanded="false">Xem</button>
        </li>
      </ul>
      <button class="review-btn" onclick="resetToChapter1()">
        Tìm hiểu lại câu chuyện
      </button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const unlocked = parseInt(
          localStorage.getItem("chapterUnlocked") || "1"
        );

        document.querySelectorAll("#chaptersList li").forEach((item) => {
          const ch = parseInt(item.getAttribute("data-ch"));
          const btn = item.querySelector(".toggle-btn");

          if (ch > unlocked) {
            btn.classList.add("locked");
            btn.textContent = "Khóa";
          }
        });
      });

      // Hàm đặt lại chương 1 và khóa 2,3,4
      function resetToChapter1() {
        localStorage.setItem("chapterUnlocked", 1);
        location.reload();
      }
    </script>
  </body>
</html>
